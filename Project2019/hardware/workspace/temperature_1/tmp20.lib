* TMP20 - Temperature Sensor SPICE MACROMODEL
*
* +/2.5 Deg-C, low-power, analog output 
*
* Model definition by HPA Linear Products Applications Engineering (tek)- Texas Instruments Inc.
*          
* Rev. A - August 2010, by W.K. SANDS
*
***************************************************************************
** (C) Copyright 2010 Texas Instruments Incorporated. All rights reserved.
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed or implied, 
** with respect to this  model, including the warranties of merchantability or fitness 
** for a particular purpose. The model is provided solely on an "as is" basis. The entire
** risk as to its quality and performance is with the customer.         
***************************************************************************
*
* BEGIN MODEL TMP20
* YOU MAY HAVE TO DO SLIGHT MODIFICATIONS TO
* THIS MODEL FOR YOUR SIMULATOR - SEE BELOW.
* BEGIN FEATURES
* NOTE THAT MODEL OUTPUT VOLTAGE RESPONDS TO
* THE TEMPERATURE VOLTAGE INPUT WHILE MODEL
* IQ RESPONDS TO SPICE TEMPERATURE.
* MODEL FEATURES INCLUDE TRANSFER FUNCTION PER
* DATA SHEET EQUATIONS, A TEMPERATURE VOLTAGE
* INPUT WITH PROPER TIME RESPONSE, OUTPUT
* IMPEDANCE, CURRENT LIMIT, OUTPUT CURRENT
* THROUGH THE RAILS, STABILITY VS CLOAD,
* IQ VERSUS SPICE TEMPERATURE, NIL IQ BELOW
* 0.5 VOLTS SUPPLY, VCC MIN VERSUS VOLTAGE
* INPUT TEMPERATURE, ACCURACY VS SUPPLY
* VOLTAGE, LOAD REGULATION, AND OUTPUT VOLTAGE
* NOISE.
* NOTE THAT THE TEMPERATURE VOLTAGE INPUT IS
* SCALED AT 1 V PER DEG C AND IS REFERENCED
* TO THE TMP20 GND PIN.
* MODEL SPICE TEMPERATURE RANGE IS -55 TO
* +150 DEG C
* NOTE THAT MODEL IS FUNCTIONAL OVER THIS
* RANGE BUT NOT ALL PARAMETERS TRACK THOSE
* OF THE REAL PART.
* PINOUT ORDER GND VOUT V+ VIN
* PINOUT ORDER  2    3   4  5
*$
.SUBCKT TMP20 2 3 4 5
* BEGIN MODEL PROGRAMMING
* TO VARY INTERNAL GAIN SLIGHTLY USE R123 BELOW
R123 31 23 15E6
* THE THREE SETS OF COMPUTATION LINES BELOW HAVE
* DIFFERENT SYNTAX FOR TINA/PSPICE AND PSPICE
* DERIVED SIMULATORS THAN FOR THE BERKELEY SPICE3
* AND BERKELEY DERIVED SPICE3 SIMULATORS AND THE
* HSPICE SIMULATOR.
* BEGIN TINA AND PSPICE SYNTAX
E45 83 84 VALUE ={-3.88E-6*V(1)*V(1)}
E46 84 85 VALUE ={-1.15E-2*V(1)}
* END TINA AND PSPICE SYNTAX
* BEGIN BERKELEY SYNTAX
*B45 83 84 V = -3.88E-6 * V(1) * V(1)
*B46 84 85 V = -1.15E-2 * V(1)
* END BERKELEY SYNTAX
* BEGIN HSPICE SYNTAX
*E53 83 84 VOL='-3.88E-6*V(1)*V(1)'
*E56 84 85 VOL='-1.15E-2*V(1)'
* END HSPICE SYNTAX
* END MODEL PROGRAMMING
Q21 6 7 8 QNL
R77 9 10 2
R78 11 10 2
R79 12 7 100
R80 13 14 100
R81 15 16 50
R82 2 17 50
R84 18 19 500
R85 20 21 50
R86 8 22 50
D21 23 16 DD
D22 2 23 DD
D23 24 0 DIN
D24 25 0 DIN
I24 0 24 0.1E-3
I25 0 25 0.1E-3
E25 8 0 2 0 1
E26 21 0 16 0 1
D25 26 0 DVN
D26 27 0 DVN
I26 0 26 0.1E-3
I27 0 27 0.1E-3
E27 28 29 26 27 3
G13 30 31 24 25 2E-9
E28 32 0 21 33 1
E29 34 0 8 33 1
E30 35 0 36 0 1
R88 32 37 1E6
R89 34 38 1E6
R90 35 39 1E6
R91 0 37 100
R92 0 38 100
R93 0 39 100
E31 40 41 39 0 2E-9
R94 42 36 1E3
R95 36 43 1E3
C29 32 37 0.2E-12
C30 34 38 0.2E-12
C31 35 39 10E-12
E32 44 40 38 0 -1.42
E33 30 44 37 0 1.42
E34 33 8 21 8 0.5
D27 45 21 DD
D28 8 45 DD
M24 46 47 17 17 NOUT L=3U W=30U
M25 48 49 15 15 POUT L=3U W=800U
M26 50 50 20 20 POUT L=3U W=800U
M27 51 52 9 9 PIN L=3U W=25U
M28 53 28 11 11 PIN L=3U W=25U
M29 54 54 22 22 NOUT L=3U W=30U
R96 55 49 100
R97 56 47 100
G14 45 33 57 33 0.02E-3
R98 33 45 4.5E8
C32 19 23 25E-12
R99 8 51 2.6E3
R100 8 53 2.6E3
C33 51 53 1.2E-10
C34 30 0 2E-12
C35 28 0 2E-12
C36 23 0 1P
D29 47 6 DD
D30 58 49 DD
Q22 58 13 21 QPL
V27 30 52 0
M30 59 60 61 61 NIN L=3U W=25U
R101 62 61 2
M31 63 28 64 64 NIN L=3U W=25U
R102 62 64 2
R103 59 21 2.6E3
R104 63 21 2.6E3
C37 59 63 1.2E-10
V28 52 60 5U
M32 65 66 67 67 PINT L=6U W=500U
M33 68 69 21 21 PIN L=6U W=500U
V29 21 66 1.37
M34 62 65 8 8 NIN L=6U W=500U
M35 65 65 8 8 NIN L=6U W=500U
G15 45 33 70 33 0.02E-3
I28 50 54 1E-6
E35 43 0 30 0 1
E36 42 0 31 0 1
M36 69 69 21 21 PIN L=6U W=500U
I29 69 8 3.3E-7
V30 68 10 0
R105 23 48 25
R106 46 23 25
J5 71 30 71 JC
J6 71 28 71 JC
J7 28 72 28 JC
J8 30 72 30 JC
C38 30 28 0.2E-12
E37 73 33 63 59 1
R107 73 70 10E3
C39 70 33 4E-11
E38 74 33 53 51 1
R108 74 57 10E3
C40 57 33 4E-11
C41 3 75 1P
R109 0 75 0.1
G16 76 33 45 33 -1E-3
G17 33 77 45 33 1E-3
G18 33 78 54 8 1E-3
G19 79 33 21 50 1E-3
D31 79 76 DD
D32 77 78 DD
R110 76 79 100E6
R111 78 77 100E6
R112 79 21 1E3
R113 8 78 1E3
E39 21 55 21 79 1
E40 56 8 78 8 1
R114 77 33 1E10
R115 78 33 1E10
R116 33 79 1E10
R117 33 76 1E10
R118 2 16 1E12
G20 16 2 80 0 -3.7E-6
D33 81 0 DD
V33 81 80 0.65
R119 0 80 1E6
I31 16 2 1.68E-6
I32 30 0 1E-12
I33 28 0 1E-12
R120 67 68 80E3
V43 45 18 0
I34 0 81 1E-3
R121 41 82 1
V45 21 71 0.3
V46 72 8 0.3
E42 16 14 16 15 10
E43 12 2 17 2 10
R169 45 23 2E10
R326 8 31 15E6
E44 82 8 83 8 0.5
V48 85 8 1.8639
R328 83 8 1E6
D34 86 87 DL
V143 87 0 3
R329 0 86 1E8
G52 16 2 86 0 3.1E-7
E48 29 31 88 0 2.05
R330 88 0 4E7
R331 88 0 4E7
R332 1 89 1E6
C43 8 1 1E-6
E49 89 8 5 8 1
R333 5 8 1E9
R334 1 8 1E9
M38 16 90 4 4 PSD L=3U W=3000U
E50 90 2 80 0 -0.69
R335 23 3 1
R336 83 84 1E9
R337 84 85 1E9
R338 89 8 1E9
.MODEL PSD PMOS KP=200U VTO=-0.5 IS=1E-18
.MODEL DL D IS=0.95E-11 N=1.63 XTI=1.5
.MODEL JC NJF IS=1E-18
.MODEL DVN D KF=7E-14 IS=1E-16
.MODEL DIN D
.MODEL DD D
.MODEL DE D IS=3E-17
.MODEL QPL PNP
.MODEL QNL NPN
.MODEL POUT PMOS KP=200U VTO=-0.7
.MODEL NOUT NMOS KP=200U VTO=0.7
.MODEL PIN PMOS KP=200U VTO=-0.35
.MODEL NIN NMOS KP=200U VTO=0.35
.MODEL PINT PMOS KP=200U VTO=-0.35 LAMBDA=0.01
.ENDS
* END MODEL TMP20
*$
